<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Uploader (Cloudinary)</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f4f4f9; }
        .container { max-width: 600px; margin: auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        input[type="file"] { margin-bottom: 15px; }
        button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        #uploadStatus { margin-top: 20px; padding: 10px; border-radius: 4px; background-color: #e9ecef; }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
    
</head>
<body>

    <div class="container">
        <h2>üì∑ Audio/Image Upload to Cloudinary</h2>
        
        <p>‡§∏‡§ø‡§∞‡•ç‡§´ **‡§á‡§Æ‡•á‡§ú** (`.jpg`, `.png`) ‡§Ø‡§æ **‡§ë‡§°‡§ø‡§Ø‡•ã** (`.mp3`, `.wav`) ‡§´‡§æ‡§á‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§</p>
        
        <input type="file" id="mediaInput" accept="image/*, audio/*">
        
        <button onclick="uploadMedia()">Upload File</button>

        <div id="uploadStatus">... Waiting for file selection ...</div>

        <h3>‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡•Ä ‡§ó‡§à ‡§´‡§º‡§æ‡§á‡§≤‡•á‡§Ç (URLs):</h3>
        <ul id="downloadLinks">
        </ul>
    </div>

    <script>
        // *** 1. Cloudinary ‡§°‡§ø‡§ü‡•á‡§≤‡•ç‡§∏: ‡§Ö‡§¨ ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞ ‡§π‡•à‡§Ç ***
        const YOUR_CLOUD_NAME = "dlqvchjl3"; 
        const YOUR_UPLOAD_PRESET = "media_uploads"; 

        // Cloudinary API URL
        const CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${YOUR_CLOUD_NAME}/upload`;
        
        // DOM ‡§è‡§≤‡§ø‡§Æ‡•á‡§Ç‡§ü‡•ç‡§∏
        const statusElement = document.getElementById('uploadStatus');
        const linksElement = document.getElementById('downloadLinks');

        function updateStatus(message, isError = false) {
            statusElement.textContent = message;
            statusElement.className = isError ? 'error' : 'success';
        }

        function uploadMedia() {
            const fileInput = document.getElementById('mediaInput');
            const file = fileInput.files[0];

            if (!file) {
                updateStatus("‚ùå ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§á‡§Æ‡•á‡§ú ‡§Ø‡§æ ‡§ë‡§°‡§ø‡§Ø‡•ã ‡§´‡§æ‡§á‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§", true);
                return;
            }

            updateStatus("üöÄ Uploading... Please wait.");
            
            // ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã FormData ‡§ë‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç
            const formData = new FormData();
            formData.append('file', file);
            formData.append('upload_preset', YOUR_UPLOAD_PRESET);
            
            // Cloudinary ‡§ï‡•ã API ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§≠‡•á‡§ú‡•á‡§Ç
            fetch(CLOUDINARY_URL, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                // HTTP ‡§è‡§∞‡§∞ ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç (‡§ú‡•à‡§∏‡•á 400, 500)
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                // Cloudinary ‡§∏‡•á ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨ (Success Response)
                if (data.secure_url) {
                    updateStatus('‚úÖ File uploaded successfully!');
                    console.log('File available at', data.secure_url);
                    
                    // URL ‡§ï‡•ã ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = data.secure_url;
                    link.target = "_blank";
                    link.textContent = file.name;
                    listItem.appendChild(link);
                    linksElement.appendChild(listItem);
                } else {
                    // Cloudinary ‡§®‡•á ‡§è‡§∞‡§∞ ‡§≠‡•á‡§ú‡•Ä (‡§ú‡•à‡§∏‡•á Upload Preset ‡§ó‡§≤‡§§ ‡§π‡•à)
                    // ‡§Ø‡§π ‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§§‡§¨ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§ú‡§¨ ‡§Ü‡§™‡§®‡•á Unsigned Preset ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ‡•§
                    updateStatus(`‚ùå Upload Failed: ${data.error.message || 'Unknown error'}`, true);
                    console.error('Cloudinary Error Data:', data);
                }
            })
            .catch(error => {
                // ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§Ø‡§æ HTTP ‡§è‡§∞‡§∞
                console.error('Upload Error:', error);
                updateStatus(`‚ùå Upload Failed: ${error.message}`, true);
            });
        }
    </script>

</body>
</html>