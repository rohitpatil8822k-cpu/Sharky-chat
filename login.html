<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sharky Chat | Global Chat & Earn Rewards</title>
  <meta name="description" content="Join Sharky Chat to connect with friends globally. Secure messaging, earn coins, and explore premium chat features. Sign up today!">
  <meta name="keywords" content="Sharky Chat, Global Messaging, Earn Coins, Secure Chat, SharkyChat Login">
  <meta name="robots" content="index, follow">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-bg: #050714;
      --accent-color: #00d2ff;
      --secondary-accent: #3a7bd5;
      --glass-bg: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.1);
      --text-color: #f1f5f9;
      --card-radius: 20px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at top right, #1a2344, #050714);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 15px;
    }
    header { margin-bottom: 25px; text-align: center; animation: fadeInDown 0.8s ease; }
    header h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: clamp(1.8rem, 7vw, 2.8rem);
      letter-spacing: 4px;
      background: linear-gradient(to right, #fff, var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 10px rgba(0, 210, 255, 0.3));
    }
    .container {
      width: 100%;
      max-width: 420px;
      background: var(--glass-bg);
      backdrop-filter: blur(25px);
      -webkit-backdrop-filter: blur(25px);
      border: 1px solid var(--glass-border);
      border-radius: var(--card-radius);
      padding: 35px 25px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
      animation: fadeInUp 0.8s ease;
    }
    .tabs {
      display: flex;
      background: rgba(0,0,0,0.4);
      padding: 5px;
      border-radius: 14px;
      margin-bottom: 25px;
    }
    .tab-btn {
      flex: 1;
      padding: 12px;
      border: none;
      background: transparent;
      color: #94a3b8;
      font-weight: 600;
      cursor: pointer;
      border-radius: 10px;
      transition: 0.3s;
    }
    .tab-btn.active {
      background: linear-gradient(135deg, var(--accent-color), var(--secondary-accent));
      color: white;
    }
    form { display: none; flex-direction: column; gap: 15px; }
    form.active { display: flex; animation: fadeIn 0.4s ease; }
    .input-group { position: relative; width: 100%; }
    .input-group i {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--accent-color);
      font-size: 1rem;
    }
    input, select {
      width: 100%;
      padding: 13px 15px 13px 42px;
      background: rgba(255,255,255,0.06);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      color: white;
      font-size: 0.95rem;
      transition: 0.3s;
    }
    input:focus {
      outline: none;
      border-color: var(--accent-color);
      background: rgba(255,255,255,0.1);
    }
    .pw-wrap {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 8px;
      font-size: 0.8rem;
      color: #94a3b8;
      margin-top: -8px;
      padding-right: 5px;
    }
    .pw-wrap input { width: auto; height: auto; padding: 0; cursor: pointer; }
    .submit-btn {
      background: linear-gradient(135deg, var(--accent-color), var(--secondary-accent));
      color: white;
      padding: 14px;
      border: none;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
      margin-top: 5px;
    }
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 210, 255, 0.3);
    }
    .google-btn {
      background: white;
      color: #1e293b;
      padding: 12px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }
    .modal-overlay {
      position: fixed; top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
      display:none; align-items:center; justify-content:center; z-index:999;
    }
    .modal-content {
      background: #0f172a; padding: 30px; border-radius: 20px;
      max-width: 380px; width: 90%; text-align: center; border: 1px solid var(--accent-color);
    }
    .modal-content label { display: block; text-align: left; margin: 12px 0; font-size: 0.85rem; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>
  <header>
    <h1>SHARKY CHAT</h1>
  </header>
  <div class="container">
    <div class="tabs">
      <button class="tab-btn active" id="btn-login" onclick="switchTab('login')">LOGIN</button>
      <button class="tab-btn" id="btn-register" onclick="switchTab('register')">REGISTER</button>
    </div>
    <form id="loginForm" class="active">
      <div class="input-group">
        <i class="fas fa-envelope"></i>
        <input type="email" id="loginEmail" placeholder="Email Address" required>
      </div>
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input type="password" id="loginPassword" placeholder="Password" required>
      </div>
      <div class="pw-wrap">
        <input type="checkbox" id="showLoginPw" onclick="togglePassword('loginPassword')"> 
        <label for="showLoginPw">Show Password</label>
      </div>
      <button type="submit" class="submit-btn">LOGIN</button>
      <button type="button" class="google-btn" id="googleLogin">
        <img src="https://img.icons8.com/color/20/google-logo.png" alt="google"> Continue with Google
      </button>
    </form>
    <form id="registerForm">
      <div class="input-group">
        <i class="fas fa-user"></i>
        <input type="text" id="regUsername" placeholder="Username" required>
      </div>
      <div class="input-group">
        <i class="fas fa-birthday-cake"></i>
        <input type="number" id="regAge" placeholder="Age (18+)" required>
      </div>
      <div class="input-group">
        <i class="fas fa-venus-mars"></i>
        <select id="regGender" required>
          <option value="" disabled selected>Gender</option>
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
        </select>
      </div>
      <div class="input-group">
        <i class="fas fa-envelope"></i>
        <input type="email" id="regEmail" placeholder="Email Address" required>
      </div>
      <div class="input-group">
        <i class="fas fa-shield-halved"></i>
        <input type="password" id="regPassword" placeholder="Create Password" required>
      </div>
      <div class="pw-wrap">
        <input type="checkbox" id="showRegPw" onclick="togglePassword('regPassword')"> 
        <label for="showRegPw">Show Password</label>
      </div>
      <button type="submit" class="submit-btn">CREATE ACCOUNT</button>
    </form>
  </div>
  <div id="agreementModal" class="modal-overlay">
    <div class="modal-content">
      <h3 style="color: var(--accent-color); margin-bottom: 15px;">Final Step</h3>
      <p style="font-size: 0.85rem; margin-bottom: 10px; color: #94a3b8;">Please agree to our policies to continue.</p>
      <label><input type="checkbox" id="privacyCheck"> I agree to Privacy Policy</label>
      <label><input type="checkbox" id="termsCheck"> I agree to Terms & Conditions</label>
      <button class="submit-btn" id="acceptBtn" style="width:100%" disabled>I AGREE</button>
    </div>
  </div>
  <div id="notif-container" style="position:fixed; bottom:20px; right:20px; z-index:1000;"></div>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    const firebaseConfig = {
      apiKey: "AIzaSyBGfgy9OeMTJ__oOAFxoBW-eIOYlvhObZM",
      authDomain: "sharky-chat-007.firebaseapp.com",
      projectId: "sharky-chat-007",
      storageBucket: "sharky-chat-007.appspot.com",
      messagingSenderId: "637104796242",
      appId: "1:637104796242:web:74ac36b86af91be15ea58b"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();
    window.togglePassword = (id) => {
      const x = document.getElementById(id);
      x.type = x.type === "password" ? "text" : "password";
    };
    window.showNotif = (msg) => {
      const container = document.getElementById('notif-container');
      const div = document.createElement('div');
      div.style.cssText = "background:#1e293b; color:white; padding:12px 20px; border-radius:10px; margin-top:10px; border-left:4px solid #00d2ff; box-shadow:0 10px 20px rgba(0,0,0,0.3);";
      div.innerText = msg;
      container.appendChild(div);
      setTimeout(() => div.remove(), 4000);
    };
    window.switchTab = (tab) => {
      document.getElementById('loginForm').classList.toggle('active', tab === 'login');
      document.getElementById('registerForm').classList.toggle('active', tab === 'register');
      document.getElementById('btn-login').classList.toggle('active', tab === 'login');
      document.getElementById('btn-register').classList.toggle('active', tab === 'register');
    };
    const modal = document.getElementById('agreementModal');
    const acceptBtn = document.getElementById('acceptBtn');
    let action = null;
    const toggleBtn = () => {
      acceptBtn.disabled = !(document.getElementById('privacyCheck').checked && document.getElementById('termsCheck').checked);
    };
    document.getElementById('privacyCheck').onchange = toggleBtn;
    document.getElementById('termsCheck').onchange = toggleBtn;
    acceptBtn.onclick = () => {
      modal.style.display = 'none';
      if(action) action();
    };
    document.getElementById('registerForm').onsubmit = (e) => {
      e.preventDefault();
      if(document.getElementById('regAge').value < 18) return showNotif("Must be 18+ to join!");
      action = async () => {
        try {
          const u = await createUserWithEmailAndPassword(auth, document.getElementById('regEmail').value, document.getElementById('regPassword').value);
          await setDoc(doc(db, "users", u.user.uid), {
            username: document.getElementById('regUsername').value,
            age: document.getElementById('regAge').value,
            gender: document.getElementById('regGender').value,
            coins: 0,
            profilePic: ""
          });
          window.location.href = "profile.html";
        } catch(err) { showNotif("Error: " + err.message); }
      };
      modal.style.display = 'flex';
    };
    document.getElementById('loginForm').onsubmit = async (e) => {
      e.preventDefault();
      try {
        await signInWithEmailAndPassword(auth, document.getElementById('loginEmail').value, document.getElementById('loginPassword').value);
        window.location.href = "profile.html";
      } catch(err) { showNotif("Invalid Credentials"); }
    };
    document.getElementById('googleLogin').onclick = async () => {
      try {
        const result = await signInWithPopup(auth, provider);
        const user = result.user;
        const userDocRef = doc(db, "users", user.uid);
        const docSnap = await getDoc(userDocRef);
        if (!docSnap.exists()) {
          await setDoc(userDocRef, {
            username: user.displayName || "User",
            email: user.email,
            age: 18,
            gender: "Not Specified",
            coins: 0,
            profilePic: user.photoURL || ""
          });
        }
        window.location.href = "profile.html";
      } catch(err) { showNotif("Google Login Failed"); }
    };
  </script>
</body>
</html>